# owl patternizer

Automatically extract common patterns from an OWL Ontology

Currently this only looks for equivalence axioms between a named class
and a class expression (aka logical definitions), where the class
expression uses the following constructs:

 - some
 - and
 - named classes
 - named object properties

It will generate out descriptions of the pattern in YAML following [DOSDP Schema](https://github.com/INCATools/dead_simple_owl_design_patterns/)

The approach is intended to be knowledge-free. Minimal underlying assumptions about the ontology. As such, the generated yaml will be more generic than hand-crafted. The intent is that it is used to bootstrap and analyze an ontology.

## Installation

There are two ways to do this

 1. via Docker
 2. direct via swipl

For 1, no additional installation required. TODO: document this

For 2, you will need to install [sparqlprog](http://www.swi-prolog.org/pack/list?p=sparqlprog)

## Command Line Usage

`pl2sparql -e -c conf/disorder_conf.pl -i tests/data/neoplasm.owl doall`

See [conf/disorder_conf.pl](blob/master/conf/disorder_conf.pl)

With docker:

First check out this repo, then:

```
docker run -v $PWD:/work -w /work --rm -ti cmungall/sparqlprog swipl -p library=/home/myuser/prolog:prolog /home/myuser/bin/pl2sparql  -e -c conf/disorder_conf.pl -i tests/data/neoplasm.owl doall,halt
```

(this is admittedly awkward - working on better wrapping script)

## Examples

### Anatomy

The following are entirely autogenerated:

 * [uberon generated patterns](https://github.com/obophenotype/uberon/tree/master/patterns/generated)

Config: [patternizer_conf](https://github.com/obophenotype/uberon/blob/master/patterns/patternizer_conf.pl)

TODO: this config only seems to be generating patterns with 1
variable; this may just be the structure of the ontology too.

## TODO

 - use lexical patterns in existing names, synonyms, and text definitions
 - apply machine learning

